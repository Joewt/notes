# 进程环境
主要介绍了如下内容:
* 当程序执行时，其main函数是如何被调用的；
* 命令行参数是如何传递给应用程序的；
* 典型的存储空间布局是什么样式；
* 如何分配另外的存储空间；
* 进程如何使用环境变量；
* 进程的各种不同终止方式等
## 介绍
1. main函数:  

    c语言总是从main函数启动的

    ```
    int main(int argc, char *argv[])
    ```
    参数:  
    - `argc`: 命令行参数数目
    - `argv`: 指向各个指针构成的数组  

    当内核执行C语言程序时，在调用main函数前先调用一个特殊的启动例程  
    启动例程:  
    如果目标文件是由C代码编译生成的，用gcc做链接就没错了，整个程序的入口点是crt1.o中提供的_start，它首先做一些初始化工作（以下称为启动例程，Startup Routine），然后调用C代码中提供的main函数。所以，以前我们说main函数是程序的入口点其实不准确，`_start`才是真正的入口点，而main函数是被_start调用的。


2. 进程终止

    有8种方式使进程终止，其中5种是正常终止
    - 从main函数返回
    - 调用exit
    - 调用_exit和_Exit
    - 最后一个线程从其启动例程返回
    - 从最后一个线程调用pthread_exit
    异常终止有3种
    - 调用abort
    - 接到一个信号
    - 最后一个线程对取消请求做出相应
